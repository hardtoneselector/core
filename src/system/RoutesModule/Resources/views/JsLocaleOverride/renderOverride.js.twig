// Copyright Zikula Foundation, licensed MIT.

( function($) {
    $(document).ready(function() {
        $(function () {
            // change name of initial method
            Routing.generateImpl = Routing.generate;
            // override generate fonction by adding a default _locale from request locale
            Routing.generate = function (url, params) {
                var paramsExt = {};
                if (params) {
                    paramsExt = params;
                }
                if (!paramsExt._locale){
                    paramsExt._locale = '{{ app.request.locale }}';
                }
                return Routing.generateImpl(url, paramsExt);
            }
        });
    });
})(jQuery);
